---
layout: post
title: Raspberry PI alapok
date: '2013-12-30T14:25:00.001-08:00'
author: István Viczián
tags:
- Raspberry PI
modified_time: '2014-02-02T07:46:02.603-08:00'
thumbnail: http://3.bp.blogspot.com/-hmphuWUn_2w/UsHxBJ8s7TI/AAAAAAAALFs/VO9kkD2Gfz0/s72-c/800px-RaspberryPi.jpg
blogger_id: tag:blogger.com,1999:blog-5585230159113108250.post-1676086119640523742
blogger_orig_url: http://ext.jtechlog.hu/2013/12/raspberry-pi-alapok.html
---

<h3>Mi is ez?</h3>

<p>A <a href="http://www.raspberrypi.org/">Raspberry PI</a> egy oktatási célra létrehozott bankkártya méretű nagyon olcsó számítógép. A nagyon olcsó azt jelenti, hogy a többet tudó B verzió kb. 13 000 Ft itthon (én most erről fogok írni).</p>

<p>Mit is kapunk ennyiért? Ez egy single-board computer (SBC), azaz egy kicsiny áramköri lapra van integrálva az egész. Egy Broadcom BCM2835 system-onchip
(SoC) van rajta, mely magába foglal egy ARMv6 alapú processzort, egy GPU-t, és 512 MB RAM-ot. A GPU-nak köszönhetően képes 1080p/Full HD (1920x1080 pixel) videót is lejátszani. Tényleg komolyan gondolták, hogy olcsó legyen, és ne kelljen hozzá sok minden. Ezért van rajta pl. csak HDMI és egy kompozit RCA port, hiszen így biztos van a családban legalább egy TV vagy monitor, amire rá lehet dugni. Alapvetően SD kártyára telepíthető az operációs rendszer (ezt is azért, mert ilyen biztosan van a háztartásban, és a gyerekek is könnyebben tudják kezelni, mint egy micro sd kártyát). Két USB 2.0 csatlakozó van rajta, egy 10/100-as Ethernet csatlakozó. Hangot HDMI-n, vagy 3,5 mm-es jack csatlakozón keresztül ad. A tápellátást MicroUSB-n keresztül kapja, 700 mA-re van szüksége. De ami igazán érdekessége, hogy van rajta egy general-purpose input-output (GPIO) portja is, melyre különböző érdekes dolgokat lehet kötni, mint ledek, nyomógombok, hőmérséklet/légnyomás érzékelők, szervómotorok, stb.</p>

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-hmphuWUn_2w/UsHxBJ8s7TI/AAAAAAAALFs/VO9kkD2Gfz0/s1600/800px-RaspberryPi.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-hmphuWUn_2w/UsHxBJ8s7TI/AAAAAAAALFs/VO9kkD2Gfz0/s320/800px-RaspberryPi.jpg" /></a></div>

<p>Többféle Linux disztribúciót is rá lehet tenni, legelterjedtebb a Debian alapú Raspbian OS.</p>

<p>Nagyon jól illik a manapság nagyon hangzatos Internet of Things (IoT) irányvonalba. Nagyon sok cég fordít rá hatalmas erőforrásokat, pl. az Oracle is nagyon nyomja, hogy a Java-t portolja rá, jelenleg pl. alapértelmezetten része a Raspbian OS-nek is. 2013 novemberében volt hír, hogy már kétmillió darabot adtak el belőle. Nekem a nevének eredete is újdonság volt, azért lett gyümölcs, mert szerencsét hoz a hardvergyártás terén, és a PI a Python-ra utal, mely az első számú programozási nyelv.</p>

<h3>Mire akarom használni?</h3>

<ul>
<li>Oktatás: mivel az oktatás folyamatosan érdekel, és művelem, érdekel, hogy ez az eszköz milyen lehetőséget biztosít. Mennyire állná meg a helyét, milyen ez irányú törekvések vannak. Nagyon szeretnék hallani ilyen jellegű magyarországi próbálkozásokról.</li>
<li>Fizikai világ és legózás: Szerintem ez az első olyan eszköz, mely mélyebb szaktudás nélkül lehet a való világgal kapcsolatot létesíteni, pl. ledeket villogtatni, nyomógombokat érzékelni. És igen, szeretek legózni, és ez nagyságrenddel olcsóbb, mint a <a href="www.lego.com/en-us/mindstorms/">Lego Mindstorms</a> készlet, nem is beszélve a hozzá való alkatrészek áráról és mennyiségéről.</li>
<li>Linux: legyen a háztartásban egy állandóan hozzáférhető Linux. Nem, nem akarom, hogy a notebook-om első számú operációs rendszere Linux legyen. Nem akarok virtuális gépet sem, és átbootolni sem.</li>
<li>Python: ezen programozási nyelv iránti rajongásom tudom kiélni ezen az eszközön.</li>
<li>Állandóan futó környezet: alacsony energiafelhasználása miatt nem sajnálom éjjel-nappal bekapcsolva hagyni, így különböző apró szerverfunkciókat képes ellátni.</li>
<li>Házautomatizálás: ez még a titkos vágyak között van, így semmiképp nem árulnék el róla többet.</li>
</ul>

<h3>Mire nem akarom használni?</h3>

<p>Nem akarok belőle otthoni média centert. Szerintem erre nem alkalmas, sokkal inkább hiszek más céleszközökben.</p>

<h3>Van jobb?</h3>

<p>Igen. De mivel ez hype-olt, erről található a legtöbb anyag a neten, semmiképp nem választanék mást.</p>

<h3>Mi kell még hozzá?</h3>

<p>Fontos, hogy csak olyan kiegészítőt vásároljunk, melyről biztosan tudjuk, hogy kompatibilis, ebben segít a <a href="http://www.elinux.org/RPi_VerifiedPeripherals">RPi VerifiedPeripherals</a> oldal. Szükség van még egy MicroUSB töltőre. Nagyon érzékeny erre, érdemes jó minőségűt választani, különben rejtélyes lefagyásokat tapasztalhatunk. Kell egy SD kártya, minimum 4 gigás, állítólag a class 4 elegendő, a gyorsabbat úgysem tudja kihasználni. Billentyűzet, egér, monitor/tv nekem csak addig kellett, míg be nem állítottam az ssh elérést. Mivel nincs közelben Ethernet kábel, vettem egy <a href="http://www.edimax.com/en/produce_detail.php?pd_id=347&pl1_id=1">Edimax EW-7811UN Wireless N 150Mbps USB Nano Adaptert</a>, mely az eBay-ről 2400 Ft-ból meg volt, könnyen telepíthető (csak egy <a href="http://pi.rook.hu/raspberry-pi-konfiguracio-a-halozat-2013-06.html">konfig fájlban kellett három sort módosítani</a>), kifogástalanul működik.</p>

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-R1KwYAw3orY/UsHzpBkpEbI/AAAAAAAALGE/yJ-L2nULdW4/s1600/EW-7811Un_217X205.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-R1KwYAw3orY/UsHzpBkpEbI/AAAAAAAALGE/yJ-L2nULdW4/s320/EW-7811Un_217X205.jpg" /></a></div>

<p>Feltehetően szükség lesz egy USB hub-ra is. Ebből saját tápellátással rendelkezőt érdemes venni, hogy pl. egy külső winyót is meg tudjon hajtani.</p>

<h3>Telepítés</h3>

<p>Rengeteg angol és magyar nyelvű leírást találtam a neten, ezt nem részletezném. Letöltöttem a Raspbian OS image-et, majd felírtam az SD kártyára, és be is bootolt. A boot után azonnal egy konfigurációs képernyő jelent meg, amin azonnal ki lehetett választani, hogy megnövelje az SD kártya méretére a partíciót, billentyűzetkiosztást választhattam és beállíthattam az SSH távoli elérést.</p>

<h3>Források</h3>

<p>A <a href="http://www.amazon.co.uk/Raspberry-User-Guide-Eben-Upton/dp/111846446X">Raspberry Pi User Guide-ot</a> lapoztam végig gyakorlatilag két nap alatt. Mivel az egyik írója a Raspberry PI egyik kitalálója, érdekes volt a bevezetést olvasni. Már ebben is vannak elavult információk, tehát a neten érdemes keresgélni. Amúgy ezen kívül is már egy rakat könyv van. Érdekes olvasmány a <a href="http://www.themagpi.com/">The MagPI</a> magazin, mely havonta jelenik meg, és érdekes cikkeket közöl a PI világából.</p>

<h3>Tippek és trükkök</h3>

<p>Az alapértelmezett felhasználónév/jelszó a pi/raspberry.</p>

<p>Az első bootoláskor elinduló konfigurációs alkalmazást a következő paranccsal lehet később elindítani.</p>

<pre>
sudo raspi-config
</pre>

<p>Újraindítás</p>

<pre>
sudo shutdown -r now
</pre>

<p>Leállítás</p>

<pre>
sudo halt -h
</pre>

<p>A telepített csomagok között megtalálható a vi szövegszerkesztő, kevésbé mazohistáknak nano. Zip-eket az unzip paranccsal lehet kibontani.</p>

<p>A chip hőmérsékletét a következő paranccsal tudhatjuk meg:</p>

<pre>
vcgencmd measure_temp
</pre>

<p>Amennyiben pendrive-ot kötünk rá, parancssorból előbb mountolni kell azt. Ha csak egy van rádugva, az a /dev/sda eszköz lesz, melynek az első partíciója /dev/sda1. A következő parancsokkal listázhatóak az eszközök:</p>

<pre>
sudo fdisk -l
</pre>

<p>Majd hozzunk létre egy könyvtárat a /media könyvtárban, adjunk rá jogot a felhasználóknak, majd mountoljuk be:</p>

<pre>
sudo mkdir /media/externaldrive
sudo chgrp -R users /media/externaldrive
sudo chmod -R g+w /media/externaldrive
mount /dev/sda1 /media/externaldrive -o rw
</pre>

<p>A könyv javasolja, hogy hozzunk létre saját felhasználót, és változtassuk meg a jelszavát.</p>

<pre>
sudo useradd -m -G adm,dialout,cdrom,audio,plugdev,users,lpadmin,sambashare, \
  vchiq,powerdev username
sudo passwd username
</pre>

<p>Csomagkezelője az apt package manager, melyekkel tudunk akár egy paranccsal szoftvereket telepíteni internet eléréssel. (Ez amúgy a Debian dpkg csomagkezelőjének frontendjének indult, később lett általánosabb.)</p>

<p>Telepítés előtt érdemes a cache-ét frissíteni:</p>

<pre>
apt-get update
</pre>

<p>A már telepített csomagokat a következő paranccsal tudjuk kilistázni:</p>

<pre>
Telepített csomagok listázása
dpkg --get-selections
</pre>

<p>Remek parancssori zenelejátszó pl. a moc, telepítése:</p>

<pre>
sudo apt-get install moc
</pre>

<p>Ezzel a paranccsal lehet frissíteni is a csomagokat, ha azok már telepítve vannak. A lejátszót elindítani a mocp paranccsal lehet.</p>

<p>Csomagot eltávolítani az apt-get remove kapcsolójával lehet, ez azonban meghagyja a konfigurációs állományokat. Ha azokat is törölni szeretnénk, akkor a purge a barátunk.</p>

<p>Előre telepített parancssoros lejátszó az omxplayer, melyet paraméterezni lehet, hogy a HDMI-n játszon le, remekül viszi a H.264 formátumú fájlokat.</p>

<pre>
omxplayer -o hdmi videófájlnév
</pre>

<p>A Raspbian OS alapból a Lightweight X11 Desktop Environment (LXDE) ablakkezelővel van felszerelve, az elején kiválaszthatjuk, hogy mindig ez induljon el, bár én még el sem indítottam, kizárólag távoli terminálról használom.</p>

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-olS0AmlfmcE/UsHyJGZpZzI/AAAAAAAALF4/BxljSPeUWhs/s1600/Raspi_Colour_R.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-olS0AmlfmcE/UsHyJGZpZzI/AAAAAAAALF4/BxljSPeUWhs/s320/Raspi_Colour_R.png" /></a></div>

Raspberry Pi is a trademark of the Raspberry Pi Foundation